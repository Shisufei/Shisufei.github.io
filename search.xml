<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>MutationObserver</title>
      <link href="/2020/05/14/MutationObserver/"/>
      <url>/2020/05/14/MutationObserver/</url>
      
        <content type="html"><![CDATA[<p><code>MutationObserver</code>接口提供了监视对DOM树所做更改的能力。它被设计为旧的<code>Mutation Events</code>功能的替代品，该功能是<code>DOM3 Events</code>规范的一部分。</p><a id="more"></a><h3 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h3><h4 id="MutationObserver"><a href="#MutationObserver" class="headerlink" title="MutationObserver()"></a>MutationObserver()</h4><ul><li>创建并返回一个新的<code>MutationObserver</code>，它会在指定的DOM发生变化时被调用。</li></ul><h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><h4 id="disconnect"><a href="#disconnect" class="headerlink" title="disconnect()"></a>disconnect()</h4><ul><li>阻止<code>MutationObserver</code>实例继续接收的通知，直到再次调用其<code>observe()</code>方法，该观察者对象包含的回调函数都不会再被调用。</li></ul><h4 id="observe"><a href="#observe" class="headerlink" title="observe()"></a>observe()</h4><ul><li>配置<code>MutationObserver</code>在DOM更改匹配给定选项时，通过其回调函数开始接收通知。</li></ul><h4 id="takeRecords"><a href="#takeRecords" class="headerlink" title="takeRecords()"></a>takeRecords()</h4><ul><li>从<code>MutationObserver</code>的通知队列中删除所有待处理的通知，并将它们返回到<code>MutationRecord</code>对象的新<code>Array</code>中。</li></ul><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/MutationObserver" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/MutationObserver</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Web API 接口 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>富文本编辑器wangEditor在Vue中的使用</title>
      <link href="/2019/11/08/wangEditor/"/>
      <url>/2019/11/08/wangEditor/</url>
      
        <content type="html"><![CDATA[<p>wangEditor是一款基于javascript和css开发的、轻量、简洁、易用、开源免费的Web富文本编辑器。</p><a id="more"></a><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><ul><li>官网：<a href="http://www.wangEditor.com" target="_blank" rel="noopener">www.wangEditor.com</a></li><li>文档：<a href="http://www.kancloud.cn/wangfupeng/wangeditor3/332599" target="_blank" rel="noopener">www.kancloud.cn/wangfupeng/wangeditor3/332599</a></li><li>源码：github.com/wangfupeng1988/wangEditor </li></ul><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><ul><li>直接下载：<a href="https://github.com/wangfupeng1988/wangEditor/releases" target="_blank" rel="noopener">https://github.com/wangfupeng1988/wangEditor/releases</a></li><li>使用npm下载：npm install wangeditor （注意 wangeditor 全部是小写字母）</li><li>使用bower下载：bower install wangEditor （前提保证电脑已安装了bower）</li><li>使用CDN：//unpkg.com/wangeditor/release/wangEditor.min.js</li></ul><h2 id="DEMO"><a href="#DEMO" class="headerlink" title="DEMO"></a>DEMO</h2><ul><li>下载源码 git clone <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:wangfupeng1988/wangEditor.git</li><li>安装或者升级最新版本 node（最低v6.x.x）</li><li>进入目录，安装依赖包 cd wangEditor &amp;&amp; npm i</li><li>安装包完成之后，windows 用户运行npm run win-example，Mac 用户运行npm run example</li><li>打开浏览器访问localhost:3000/index.html</li><li>用于 React、vue 或者 angular 可查阅文档中其他章节中的相关介绍</li></ul><h2 id="在Vue中的使用"><a href="#在Vue中的使用" class="headerlink" title="在Vue中的使用"></a>在Vue中的使用</h2><h3 id="组件template"><a href="#组件template" class="headerlink" title="组件template"></a>组件template</h3><figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">template</span>&gt;</span><br><span class="line">  &lt;<span class="keyword">div</span>&gt;</span><br><span class="line">    &lt;<span class="keyword">div</span> <span class="keyword">ref</span>=<span class="string">"editor"</span> /&gt;</span><br><span class="line">  &lt;/<span class="keyword">div</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">template</span>&gt;</span><br></pre></td></tr></table></figure><h3 id="组件script"><a href="#组件script" class="headerlink" title="组件script"></a>组件script</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import E from <span class="string">'wangeditor'</span></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: <span class="string">'Editor'</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    <span class="attribute">content</span>: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: <span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      editorContent: <span class="string">''</span>,</span><br><span class="line">      editorText: <span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    <span class="selector-tag">var</span> editor = new E(this.<span class="variable">$refs</span>.editor)</span><br><span class="line">    editor<span class="selector-class">.customConfig</span><span class="selector-class">.onchange</span> = (html) =&gt; &#123;</span><br><span class="line">      this<span class="selector-class">.editorContent</span> = html</span><br><span class="line">      this<span class="selector-class">.editorText</span> = editor<span class="selector-class">.txt</span><span class="selector-class">.text</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 菜单配置</span></span><br><span class="line">    editor<span class="selector-class">.customConfig</span><span class="selector-class">.menus</span> = [ </span><br><span class="line">      <span class="string">'head'</span>, <span class="comment">// 标题</span></span><br><span class="line">      <span class="string">'bold'</span>, <span class="comment">// 粗体</span></span><br><span class="line">      <span class="string">'fontSize'</span>, <span class="comment">// 字号</span></span><br><span class="line">      <span class="string">'fontName'</span>, <span class="comment">// 字体</span></span><br><span class="line">      <span class="string">'italic'</span>, <span class="comment">// 斜体</span></span><br><span class="line">      <span class="string">'underline'</span>, <span class="comment">// 下划线</span></span><br><span class="line">      <span class="string">'strikeThrough'</span>, <span class="comment">// 删除线</span></span><br><span class="line">      <span class="string">'foreColor'</span>, <span class="comment">// 文字颜色</span></span><br><span class="line">      <span class="string">'backColor'</span>, <span class="comment">// 背景颜色</span></span><br><span class="line">      <span class="string">'link'</span>, <span class="comment">// 插入链接</span></span><br><span class="line">      <span class="string">'list'</span>, <span class="comment">// 列表</span></span><br><span class="line">      <span class="string">'justify'</span>, <span class="comment">// 对齐方式</span></span><br><span class="line">      <span class="string">'quote'</span>, <span class="comment">// 引用</span></span><br><span class="line">      <span class="string">'table'</span>, <span class="comment">// 表格</span></span><br><span class="line">      <span class="string">'code'</span>, <span class="comment">// 插入代码</span></span><br><span class="line">      <span class="string">'undo'</span>, <span class="comment">// 撤销</span></span><br><span class="line">      <span class="string">'redo'</span> <span class="comment">// 重复</span></span><br><span class="line">    ]</span><br><span class="line">    <span class="comment">// 颜色配置</span></span><br><span class="line">    editor<span class="selector-class">.customConfig</span><span class="selector-class">.colors</span> = [</span><br><span class="line">      <span class="string">'#ffffff'</span>,</span><br><span class="line">      <span class="string">'#000000'</span>,</span><br><span class="line">      <span class="string">'#eeece0'</span>,</span><br><span class="line">      <span class="string">'#1c487f'</span>,</span><br><span class="line">      <span class="string">'#4d80bf'</span>,</span><br><span class="line">      <span class="string">'#c24f4a'</span>,</span><br><span class="line">      <span class="string">'#8baa4a'</span>,</span><br><span class="line">      <span class="string">'#7b5ba1'</span>,</span><br><span class="line">      <span class="string">'#46acc8'</span>,</span><br><span class="line">      <span class="string">'#f9963b'</span></span><br><span class="line">    ]</span><br><span class="line">    editor.create()</span><br><span class="line">    editor<span class="selector-class">.txt</span><span class="selector-class">.html</span>(this.<span class="attribute">content</span>) // 回显</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="comment">// 获取html</span></span><br><span class="line">    getContent() &#123;</span><br><span class="line">      return this.editorContent</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 获取text 可用于判断用户是否输入</span></span><br><span class="line">    getText() &#123;</span><br><span class="line">      return this.editorText</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="使用组件DEMO"><a href="#使用组件DEMO" class="headerlink" title="使用组件DEMO"></a>使用组件DEMO</h3><p>template:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">label-position</span>=<span class="string">"left"</span> <span class="attr">label-width</span>=<span class="string">"100px"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"内容"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">editor</span> <span class="attr">ref</span>=<span class="string">"editor"</span> <span class="attr">:content</span>=<span class="string">"form.content"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">"primary"</span> @<span class="attr">click</span>=<span class="string">"handleSubmit"</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>import:</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Editor <span class="keyword">from</span> <span class="string">'@/components/wangEditor/index'</span></span><br></pre></td></tr></table></figure><p>script:</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">components: &#123;</span><br><span class="line">  Editor</span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">data</span>() &#123;</span><br><span class="line">  <span class="keyword">return</span>&#123;</span><br><span class="line">    form:&#123;</span><br><span class="line">      content:<span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;  </span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">  handleSubmit()&#123;</span><br><span class="line">    <span class="keyword">this</span>.form.content = <span class="keyword">this</span>.$refs.editor.getContent()</span><br><span class="line">    <span class="comment">// 校验</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.form.content.trim() === <span class="string">''</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.$message(&#123; message: <span class="string">'请填写公告内容！'</span>, type: <span class="string">'warning'</span> &#125;)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> contentText = <span class="keyword">this</span>.$refs.editor.getText()</span><br><span class="line">    <span class="keyword">const</span> contentTextArray = contentText.split(<span class="string">'&amp;nbsp;'</span>)</span><br><span class="line">    <span class="keyword">const</span> contentTextSet = new Set(contentTextArray)</span><br><span class="line">    contentTextSet.delete(<span class="string">''</span>)</span><br><span class="line">    contentTextSet.delete(<span class="string">' '</span>)</span><br><span class="line">    <span class="keyword">if</span> (contentTextSet.size === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.$message(&#123; message: <span class="string">'请填写公告内容！'</span>, type: <span class="string">'warning'</span> &#125;)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>elementUI 时间选择器组件二次封装</title>
      <link href="/2019/11/05/elementUI-timePicker/"/>
      <url>/2019/11/05/elementUI-timePicker/</url>
      
        <content type="html"><![CDATA[<p>基于elmentUI时间选择器组件二次封装的组件</p><a id="more"></a><h1 id="TimePicker组件"><a href="#TimePicker组件" class="headerlink" title="TimePicker组件"></a>TimePicker组件</h1><p>template：</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-date-picker</span><br><span class="line">    v-model=<span class="string">"timeValue"</span></span><br><span class="line">    align=<span class="string">"right"</span></span><br><span class="line">    unlink-panels</span><br><span class="line">    :range-separator=<span class="string">"rangeSeparator"</span> // 时间范围分隔符 <span class="built_in">String</span> <span class="keyword">default</span>:<span class="string">'-'</span></span><br><span class="line">    :start-placeholder=<span class="string">"startPlaceholder"</span> // 开始时间的提示文字 <span class="built_in">String</span> <span class="keyword">default</span>:<span class="string">'开始时间'</span></span><br><span class="line">    :end-placeholder=<span class="string">"endPlaceholder"</span> // 结束时间的提示文字 <span class="built_in">String</span> <span class="keyword">default</span>:<span class="string">'结束时间'</span></span><br><span class="line">    :<span class="keyword">default</span>-time=<span class="string">"defaultTime"</span> // 默认的时间值 Array <span class="keyword">default</span>:[<span class="string">'00:00:00'</span>, <span class="string">'23:59:59'</span>]</span><br><span class="line">    :type=<span class="string">"type"</span> // 日期类型 daterange-日期范围 datetimerange-日期时间范围 <span class="built_in">String</span> <span class="keyword">default</span>:<span class="string">'daterange'</span></span><br><span class="line">    :time-type=<span class="string">"timeType"</span> // 时间维度 <span class="number">0</span>-日 <span class="number">1</span>- 周 <span class="number">2</span>-月 <span class="number">3</span>-年 <span class="number">-1</span>-时 <span class="built_in">String</span> <span class="keyword">default</span>:<span class="string">'0'</span></span><br><span class="line">    :picker-type=<span class="string">"pickerType"</span> // <span class="number">1</span>-从今日开始 <span class="number">2</span>-从昨日开始 <span class="number">3</span>-从近七日开始 <span class="built_in">String</span> <span class="keyword">default</span>:<span class="string">'1'</span></span><br><span class="line">    :need-options=<span class="string">"needOptions"</span> // 是否需要快捷选项 Boolean <span class="keyword">default</span>:<span class="literal">true</span></span><br><span class="line">    :picker-options=<span class="string">"pickerOptions"</span> // 时间选择器的一些选项 Object <span class="keyword">default</span>:&#123;&#125;</span><br><span class="line">    <span class="symbol">@change</span>=<span class="string">"handlePick"</span></span><br><span class="line">  /&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>import:</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> $common <span class="keyword">from</span> <span class="string">'@/utils/common.js'</span>  <span class="comment">// 文末附上common.js</span></span><br></pre></td></tr></table></figure><p>props：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">    <span class="comment">// 时间范围分隔符</span></span><br><span class="line">    rangeSeparator: &#123;</span><br><span class="line">      <span class="keyword">type</span>: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">'-'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 开始时间的文字说明</span></span><br><span class="line">    startPlaceholder: &#123;</span><br><span class="line">      <span class="keyword">type</span>: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">'开始时间'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 结束时间的文字说明</span></span><br><span class="line">    endPlaceholder: &#123;</span><br><span class="line">      <span class="keyword">type</span>: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">'结束时间'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 默认的时间点</span></span><br><span class="line">    defaultTime: &#123;</span><br><span class="line">      <span class="keyword">type</span>: <span class="built_in">Array</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="function"><span class="params">()</span> =&gt;</span> [<span class="string">'00:00:00'</span>, <span class="string">'23:59:59'</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 日期类型 daterange-日期范围 datetimerange-日期时间范围</span></span><br><span class="line">    <span class="keyword">type</span>: &#123;</span><br><span class="line">      <span class="keyword">type</span>: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">'daterange'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 时间维度 0-日 1- 周 2-月 3-年 -1-时</span></span><br><span class="line">    timeType: &#123;</span><br><span class="line">      <span class="keyword">type</span>: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">'0'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 1-从今日开始 2-从昨日开始 3-从近七日开始</span></span><br><span class="line">    pickerType: &#123;</span><br><span class="line">      <span class="keyword">type</span>: <span class="built_in">String</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="string">'1'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 需要快捷选项</span></span><br><span class="line">    needOptions: &#123;</span><br><span class="line">      <span class="keyword">type</span>: <span class="built_in">Boolean</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 时间选择器的一些选项</span></span><br><span class="line">    pickerOptions: &#123;</span><br><span class="line">      <span class="keyword">type</span>: <span class="built_in">Object</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="keyword">return</span> &#123;&#125; &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    value: &#123;</span><br><span class="line">      <span class="keyword">type</span>: <span class="built_in">Array</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="function"><span class="params">()</span> =&gt;</span> []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>data:</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">data</span>() &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    timeValue: <span class="keyword">this</span>.value</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>methods:</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">  <span class="comment">// 确定选择</span></span><br><span class="line">  handlePick() &#123;</span><br><span class="line">    let result = [<span class="string">''</span>, <span class="string">''</span>]</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.timeValue !== <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> startTime = <span class="keyword">this</span>.$timeUtils.getTime(<span class="keyword">this</span>.timeValue[<span class="number">0</span>])</span><br><span class="line">      <span class="keyword">const</span> endTime = <span class="keyword">this</span>.$timeUtils.getTime(<span class="keyword">this</span>.timeValue[<span class="number">1</span>])</span><br><span class="line">      result = [startTime, endTime]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.$emit(<span class="string">'change'</span>, result)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 重置</span></span><br><span class="line">  reset() &#123;</span><br><span class="line">    <span class="keyword">this</span>.timeValue = [<span class="string">''</span>, <span class="string">''</span>]</span><br><span class="line">    <span class="keyword">this</span>.handlePick()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="一、Picker-Options"><a href="#一、Picker-Options" class="headerlink" title="一、Picker Options"></a>一、Picker Options</h2><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>可选值</th><th>默认值</th></tr></thead><tbody><tr><td>shortcuts</td><td>设置快捷选项，需要传入 { text, onClick } 对象用法参考 demo 或下表</td><td>Object[]</td><td>-</td><td>-</td></tr><tr><td>disabledDate</td><td>设置禁用状态，参数为当前日期，要求返回 Boolean</td><td>Function</td><td>-</td><td>-</td></tr><tr><td>cellClassName</td><td>设置日期的 className</td><td>Function(Date)</td><td>-</td><td>-</td></tr><tr><td>firstDayOfWeek</td><td>周起始日</td><td>Number</td><td>1 到 7</td><td>7</td></tr></tbody></table><h3 id="1-设置快捷选项-shortcuts"><a href="#1-设置快捷选项-shortcuts" class="headerlink" title="1.设置快捷选项 shortcuts"></a>1.设置快捷选项 shortcuts</h3><ul><li>这里增加了根据时间维度生成快捷选项</li></ul><p>methods：</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">optionsGet() &#123;</span><br><span class="line">  <span class="keyword">const</span> options = []</span><br><span class="line">  <span class="keyword">const</span> timeType = <span class="built_in">parseInt</span>(<span class="keyword">this</span>.timeType)</span><br><span class="line">  <span class="keyword">const</span> pickerType = <span class="built_in">parseInt</span>(<span class="keyword">this</span>.pickerType)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">if</span> (!<span class="keyword">this</span>.needOptions) <span class="built_in">return</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">if</span> (timeType === <span class="number">0</span> || timeType === <span class="number">-1</span>) &#123;</span><br><span class="line">    <span class="comment">// 时间维度为 日 或 时</span></span><br><span class="line">    <span class="built_in">if</span> (pickerType &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">      options.push(</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="built_in">text</span>: <span class="string">'今日'</span>,</span><br><span class="line">          onClick(picker) &#123;</span><br><span class="line">            <span class="keyword">const</span> start = <span class="keyword">new</span> Date($common.getDateStr(<span class="number">0</span>) + <span class="string">' 00:00:00'</span>)</span><br><span class="line">            <span class="keyword">const</span> <span class="built_in">end</span> = <span class="keyword">new</span> Date($common.getDateStr(<span class="number">0</span>) + <span class="string">' 23:59:59'</span>)</span><br><span class="line">            picker.$emit(<span class="string">'pick'</span>, [start, <span class="built_in">end</span>])</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">if</span> (pickerType &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">      options.push(</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="built_in">text</span>: <span class="string">'昨日'</span>,</span><br><span class="line">          onClick(picker) &#123;</span><br><span class="line">            <span class="keyword">const</span> start = <span class="keyword">new</span> Date($common.getDateStr(<span class="number">-1</span>) + <span class="string">' 00:00:00'</span>)</span><br><span class="line">            <span class="keyword">const</span> <span class="built_in">end</span> = <span class="keyword">new</span> Date($common.getDateStr(<span class="number">-1</span>) + <span class="string">' 23:59:59'</span>)</span><br><span class="line">            picker.$emit(<span class="string">'pick'</span>, [start, <span class="built_in">end</span>])</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">if</span> (pickerType &lt;= <span class="number">3</span>) &#123;</span><br><span class="line">      options.push(</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="built_in">text</span>: <span class="string">'近7日'</span>,</span><br><span class="line">          onClick(picker) &#123;</span><br><span class="line">            <span class="keyword">const</span> start = <span class="keyword">new</span> Date($common.getDateStr(<span class="number">-7</span>) + <span class="string">' 00:00:00'</span>)</span><br><span class="line">            <span class="keyword">const</span> <span class="built_in">end</span> = <span class="keyword">new</span> Date($common.getDateStr(<span class="number">-1</span>) + <span class="string">' 23:59:59'</span>)</span><br><span class="line">            picker.$emit(<span class="string">'pick'</span>, [start, <span class="built_in">end</span>])</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">    options.push(&#123;</span><br><span class="line">      <span class="built_in">text</span>: <span class="string">'近30日'</span>,</span><br><span class="line">      onClick(picker) &#123;</span><br><span class="line">        <span class="keyword">const</span> start = <span class="keyword">new</span> Date($common.getDateStr(<span class="number">-30</span>) + <span class="string">' 00:00:00'</span>)</span><br><span class="line">        <span class="keyword">const</span> <span class="built_in">end</span> = <span class="keyword">new</span> Date($common.getDateStr(<span class="number">-1</span>) + <span class="string">' 23:59:59'</span>)</span><br><span class="line">        picker.$emit(<span class="string">'pick'</span>, [start, <span class="built_in">end</span>])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      <span class="built_in">text</span>: <span class="string">'近90日'</span>,</span><br><span class="line">      onClick(picker) &#123;</span><br><span class="line">        <span class="keyword">const</span> start = <span class="keyword">new</span> Date($common.getDateStr(<span class="number">-90</span>) + <span class="string">' 00:00:00'</span>)</span><br><span class="line">        <span class="keyword">const</span> <span class="built_in">end</span> = <span class="keyword">new</span> Date($common.getDateStr(<span class="number">-1</span>) + <span class="string">' 23:59:59'</span>)</span><br><span class="line">        picker.$emit(<span class="string">'pick'</span>, [start, <span class="built_in">end</span>])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; <span class="built_in">else</span> <span class="built_in">if</span> (timeType === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">// 时间维度为 周</span></span><br><span class="line">    options.push(</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="built_in">text</span>: <span class="string">'近4周'</span>,</span><br><span class="line">        onClick(picker) &#123;</span><br><span class="line">          <span class="keyword">const</span> start = <span class="keyword">new</span> Date($common.getWeekDateStr(<span class="number">-28</span>) + <span class="string">' 00:00:00'</span>)</span><br><span class="line">          <span class="keyword">const</span> <span class="built_in">end</span> = <span class="keyword">new</span> Date($common.getWeekDateStr(<span class="number">-7</span>) + <span class="string">' 23:59:59'</span>)</span><br><span class="line">          picker.$emit(<span class="string">'pick'</span>, [start, <span class="built_in">end</span>])</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="built_in">text</span>: <span class="string">'近15周'</span>,</span><br><span class="line">        onClick(picker) &#123;</span><br><span class="line">          <span class="keyword">const</span> start = <span class="keyword">new</span> Date($common.getWeekDateStr(<span class="number">-105</span>) + <span class="string">' 00:00:00'</span>)</span><br><span class="line">          <span class="keyword">const</span> <span class="built_in">end</span> = <span class="keyword">new</span> Date($common.getWeekDateStr(<span class="number">-7</span>) + <span class="string">' 23:59:59'</span>)</span><br><span class="line">          picker.$emit(<span class="string">'pick'</span>, [start, <span class="built_in">end</span>])</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="built_in">text</span>: <span class="string">'近30周'</span>,</span><br><span class="line">        onClick(picker) &#123;</span><br><span class="line">          <span class="keyword">const</span> start = <span class="keyword">new</span> Date($common.getWeekDateStr(<span class="number">-210</span>) + <span class="string">' 00:00:00'</span>)</span><br><span class="line">          <span class="keyword">const</span> <span class="built_in">end</span> = <span class="keyword">new</span> Date($common.getWeekDateStr(<span class="number">-7</span>) + <span class="string">' 23:59:59'</span>)</span><br><span class="line">          picker.$emit(<span class="string">'pick'</span>, [start, <span class="built_in">end</span>])</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    )</span><br><span class="line">  &#125; <span class="built_in">else</span> <span class="built_in">if</span> (timeType === <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">// 时间维度为 月</span></span><br><span class="line">    options.push(</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="built_in">text</span>: <span class="string">'近3个月'</span>,</span><br><span class="line">        onClick(picker) &#123;</span><br><span class="line">          <span class="keyword">const</span> start = <span class="keyword">new</span> Date($common.getMonthDateStr(<span class="number">-90</span>) + <span class="string">' 00:00:00'</span>)</span><br><span class="line">          <span class="keyword">const</span> <span class="built_in">end</span> = <span class="keyword">new</span> Date($common.getMonthEndDateStr(<span class="number">-30</span>) + <span class="string">' 23:59:59'</span>)</span><br><span class="line">          picker.$emit(<span class="string">'pick'</span>, [start, <span class="built_in">end</span>])</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="built_in">text</span>: <span class="string">'近6个月'</span>,</span><br><span class="line">        onClick(picker) &#123;</span><br><span class="line">          <span class="keyword">const</span> start = <span class="keyword">new</span> Date($common.getMonthDateStr(<span class="number">-180</span>) + <span class="string">' 00:00:00'</span>)</span><br><span class="line">          <span class="keyword">const</span> <span class="built_in">end</span> = <span class="keyword">new</span> Date($common.getMonthEndDateStr(<span class="number">-30</span>) + <span class="string">' 23:59:59'</span>)</span><br><span class="line">          picker.$emit(<span class="string">'pick'</span>, [start, <span class="built_in">end</span>])</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="built_in">text</span>: <span class="string">'近12个月'</span>,</span><br><span class="line">        onClick(picker) &#123;</span><br><span class="line">          <span class="keyword">const</span> start = <span class="keyword">new</span> Date($common.getMonthDateStr(<span class="number">-360</span>) + <span class="string">' 00:00:00'</span>)</span><br><span class="line">          <span class="keyword">const</span> <span class="built_in">end</span> = <span class="keyword">new</span> Date($common.getMonthEndDateStr(<span class="number">-30</span>) + <span class="string">' 23:59:59'</span>)</span><br><span class="line">          picker.$emit(<span class="string">'pick'</span>, [start, <span class="built_in">end</span>])</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">  &#125; <span class="built_in">else</span> <span class="built_in">if</span> (timeType === <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="comment">// 时间维度为 年</span></span><br><span class="line">    options.push(</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="built_in">text</span>: <span class="string">'今年'</span>,</span><br><span class="line">        onClick(picker) &#123;</span><br><span class="line">          <span class="keyword">const</span> start = <span class="keyword">new</span> Date(<span class="keyword">new</span> Date().getFullYear() + <span class="string">'-01'</span> + <span class="string">'-01'</span> + <span class="string">' 00:00:00'</span>)</span><br><span class="line">          <span class="keyword">const</span> <span class="built_in">end</span> = <span class="keyword">new</span> Date($common.getDateStr(<span class="number">-1</span>) + <span class="string">' 23:59:59'</span>)</span><br><span class="line">          picker.$emit(<span class="string">'pick'</span>, [start, <span class="built_in">end</span>])</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="built_in">text</span>: <span class="string">'近3年'</span>,</span><br><span class="line">        onClick(picker) &#123;</span><br><span class="line">          <span class="keyword">const</span> start = <span class="keyword">new</span> Date($common.getYearDateStr(<span class="number">-730</span>) + <span class="string">' 00:00:00'</span>)</span><br><span class="line">          <span class="keyword">const</span> <span class="built_in">end</span> = <span class="keyword">new</span> Date($common.getDateStr(<span class="number">-1</span>) + <span class="string">' 23:59:59'</span>)</span><br><span class="line">          picker.$emit(<span class="string">'pick'</span>, [start, <span class="built_in">end</span>])</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.pickerOptions.shortcuts = options</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>mounted：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">mounted</span><span class="params">()</span></span> &#123;</span><br><span class="line">  this.optionsGet()</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="2-设置可选时间范围-disabledDate"><a href="#2-设置可选时间范围-disabledDate" class="headerlink" title="2.设置可选时间范围 disabledDate"></a>2.设置可选时间范围 disabledDate</h3><ul><li>这里将其设置为prop，可在使用时设置范围</li></ul><p>template:</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-form-item label=<span class="string">"选择时间"</span>&gt;</span><br><span class="line">  &lt;timePicker</span><br><span class="line">    type=<span class="string">"datetimerange"</span></span><br><span class="line">    <span class="symbol">:value=<span class="string">"[new Date(form.startTime),new Date(form.endTime)]"</span></span></span><br><span class="line">    time-type=<span class="string">"0"</span></span><br><span class="line">    <span class="symbol">:need-options=<span class="string">"false"</span></span></span><br><span class="line">    <span class="symbol">:picker-options=<span class="string">"timePickerOptions"</span></span></span><br><span class="line">    style=<span class="string">"width:487px"</span></span><br><span class="line">    <span class="variable">@change</span>=<span class="string">"handleTimePicker"</span></span><br><span class="line">  /&gt;</span><br><span class="line">&lt;<span class="regexp">/el-form-item&gt;</span></span><br></pre></td></tr></table></figure><p>import:</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> timePicker <span class="keyword">from</span> <span class="string">'@/components/TimePicker/index.vue'</span></span><br></pre></td></tr></table></figure><p>components:</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">components:</span> &#123;</span><br><span class="line">  timePicker</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>data:</p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">timePickerOptions: &#123;</span><br><span class="line">  disabledDate(<span class="built_in">time</span>) &#123;</span><br><span class="line">    // <span class="keyword">return</span> <span class="built_in">time</span>.getTime() &lt; Date.now() - <span class="number">8.64e7</span>// 当天（含）之后的时间可选</span><br><span class="line">    // <span class="keyword">return</span> <span class="built_in">time</span>.getTime() &gt; Date.now() - <span class="number">8.64e7</span>// 当天（不含）之前的时间可选</span><br><span class="line">    // <span class="keyword">return</span> <span class="built_in">time</span>.getTime() &gt; Date.now() // 当天（含）之前的时间可选</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="附：timeUtils-js"><a href="#附：timeUtils-js" class="headerlink" title="附：timeUtils.js"></a>附：timeUtils.js</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  getTime: <span class="function"><span class="keyword">function</span> <span class="title">getTime</span>(<span class="params">t</span>) </span>&#123; <span class="comment">// 时间戳转时间文字</span></span><br><span class="line">    <span class="keyword">if</span> (t === <span class="literal">undefined</span> || t == <span class="literal">null</span> || t === <span class="string">''</span> || t === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>(t)</span><br><span class="line">    <span class="keyword">var</span> y = time.getFullYear()</span><br><span class="line">    <span class="keyword">var</span> M = <span class="keyword">this</span>.get2(time.getMonth() + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">var</span> d = <span class="keyword">this</span>.get2(time.getDate())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> h = <span class="keyword">this</span>.get2(time.getHours())</span><br><span class="line">    <span class="keyword">var</span> m = <span class="keyword">this</span>.get2(time.getMinutes())</span><br><span class="line">    <span class="keyword">var</span> s = <span class="keyword">this</span>.get2(time.getSeconds())</span><br><span class="line">    <span class="keyword">return</span> y + <span class="string">'-'</span> + M + <span class="string">'-'</span> + d + <span class="string">' '</span> + h + <span class="string">':'</span> + m + <span class="string">':'</span> + s</span><br><span class="line">  &#125;,</span><br><span class="line">  getDate: <span class="function"><span class="keyword">function</span> <span class="title">getDate</span>(<span class="params">t</span>) </span>&#123; <span class="comment">// 时间戳转日期，用-隔开</span></span><br><span class="line">    <span class="keyword">var</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>(t)</span><br><span class="line">    <span class="keyword">var</span> y = time.getFullYear()</span><br><span class="line">    <span class="keyword">var</span> M = <span class="keyword">this</span>.get2(time.getMonth() + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">var</span> d = <span class="keyword">this</span>.get2(time.getDate())</span><br><span class="line">    <span class="keyword">return</span> y + <span class="string">'-'</span> + M + <span class="string">'-'</span> + d</span><br><span class="line">  &#125;,</span><br><span class="line">  getDateSlant: <span class="function"><span class="keyword">function</span> <span class="title">getDateSlant</span>(<span class="params">t</span>) </span>&#123; <span class="comment">// 时间戳转日期，用/隔开</span></span><br><span class="line">    <span class="keyword">var</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>(t)</span><br><span class="line">    <span class="keyword">var</span> y = time.getFullYear()</span><br><span class="line">    <span class="keyword">var</span> M = <span class="keyword">this</span>.get2(time.getMonth() + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">var</span> d = <span class="keyword">this</span>.get2(time.getDate())</span><br><span class="line">    <span class="keyword">return</span> y + <span class="string">'/'</span> + M + <span class="string">'/'</span> + d</span><br><span class="line">  &#125;,</span><br><span class="line">  getWeekNum: <span class="function"><span class="keyword">function</span> <span class="title">getWeekNum</span>(<span class="params">t</span>) </span>&#123; <span class="comment">// 获得当前周是本年的第几周，格式：2018年第01周</span></span><br><span class="line">    <span class="keyword">var</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="keyword">this</span>.getSundayStamp(t))</span><br><span class="line">    <span class="keyword">var</span> firstDay = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="keyword">this</span>.getSundayStamp(t))</span><br><span class="line">    firstDay.setMonth(<span class="number">0</span>)</span><br><span class="line">    firstDay.setDate(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">var</span> diff = time - firstDay</span><br><span class="line">    <span class="keyword">var</span> days = <span class="built_in">Math</span>.ceil(diff / (<span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>))</span><br><span class="line">    <span class="keyword">var</span> weekNum = time.getFullYear() + <span class="string">'年第'</span> + <span class="keyword">this</span>.get2(<span class="built_in">Math</span>.ceil(days / <span class="number">7</span>)) + <span class="string">'周'</span></span><br><span class="line">    <span class="keyword">return</span> weekNum</span><br><span class="line">  &#125;,</span><br><span class="line">  getMonthNum: <span class="function"><span class="keyword">function</span> <span class="title">getMonthNum</span>(<span class="params">t</span>) </span>&#123; <span class="comment">// 获得当前月，格式2018年01月</span></span><br><span class="line">    <span class="keyword">var</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>(t)</span><br><span class="line">    <span class="keyword">var</span> monthNum = time.getFullYear() + <span class="string">'年'</span> + <span class="keyword">this</span>.get2(time.getMonth() + <span class="number">1</span>) + <span class="string">'月'</span></span><br><span class="line">    <span class="keyword">return</span> monthNum</span><br><span class="line">  &#125;,</span><br><span class="line">  getSundayStamp: <span class="function"><span class="keyword">function</span> <span class="title">getSundayStamp</span>(<span class="params">t</span>) </span>&#123; <span class="comment">// 获得当前日的周日时间戳</span></span><br><span class="line">    <span class="keyword">var</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>(t)</span><br><span class="line">    <span class="keyword">var</span> day = time.getDay()</span><br><span class="line">    <span class="keyword">var</span> sunday = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> (day === <span class="number">0</span>) &#123;</span><br><span class="line">      sunday = t</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      sunday = (<span class="number">7</span> - day) * (<span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>) + t</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sunday</span><br><span class="line">  &#125;,</span><br><span class="line">  get2: <span class="function"><span class="keyword">function</span> <span class="title">get2</span>(<span class="params">intValue</span>) </span>&#123; <span class="comment">// 时间的不足10补0</span></span><br><span class="line">    <span class="keyword">if</span> (intValue &gt;= <span class="number">0</span> &amp;&amp; intValue &lt;= <span class="number">9</span>) &#123; <span class="keyword">return</span> <span class="string">'0'</span> + intValue &#125;</span><br><span class="line">    <span class="keyword">return</span> intValue</span><br><span class="line">  &#125;,</span><br><span class="line">  timesCompare: <span class="function"><span class="keyword">function</span> <span class="title">timesCompare</span>(<span class="params">timeLittle, timeBig</span>) </span>&#123; <span class="comment">// 比较时间</span></span><br><span class="line">    <span class="keyword">var</span> result = <span class="number">0</span></span><br><span class="line">    timeLittle = <span class="keyword">new</span> <span class="built_in">Date</span>(timeLittle).getTime()</span><br><span class="line">    timeBig = <span class="keyword">new</span> <span class="built_in">Date</span>(timeBig).getTime()</span><br><span class="line">    <span class="keyword">if</span> (timeLittle &gt; timeBig) &#123;</span><br><span class="line">      result = <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">  &#125;,</span><br><span class="line">  hourFormat: <span class="function"><span class="keyword">function</span> <span class="title">hourFormat</span>(<span class="params">hour</span>) </span>&#123; <span class="comment">// 小时的格式化，格式：01:00</span></span><br><span class="line">    <span class="keyword">var</span> result = <span class="string">''</span></span><br><span class="line">    <span class="keyword">if</span> (hour &gt;= <span class="number">0</span> &amp;&amp; hour &lt; <span class="number">10</span>) &#123;</span><br><span class="line">      result = <span class="string">'0'</span> + hour + <span class="string">':00'</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (hour &gt;= <span class="number">10</span> &amp;&amp; hour &lt;= <span class="number">24</span>) &#123;</span><br><span class="line">      result = hour + <span class="string">':00'</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">  &#125;,</span><br><span class="line">  timeToStamp: <span class="function"><span class="keyword">function</span> <span class="title">timeToStamp</span>(<span class="params">timeString</span>) </span>&#123; <span class="comment">// 日期转时间戳，日期格式：2018-01-01 00:00:00</span></span><br><span class="line">    <span class="keyword">if</span> (timeString === <span class="string">''</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(timeString.replace(<span class="regexp">/-/g</span>, <span class="string">'/'</span>))</span><br><span class="line">    <span class="keyword">return</span> date.getTime()</span><br><span class="line">  &#125;,</span><br><span class="line">  datetiemToString: <span class="function"><span class="keyword">function</span> <span class="title">tiemToString</span>(<span class="params">datetime</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> y = datetime.getFullYear()</span><br><span class="line">    <span class="keyword">var</span> M = <span class="keyword">this</span>.get2(datetime.getMonth() + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">var</span> d = <span class="keyword">this</span>.get2(datetime.getDate())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> h = <span class="keyword">this</span>.get2(datetime.getHours())</span><br><span class="line">    <span class="keyword">var</span> m = <span class="keyword">this</span>.get2(datetime.getMinutes())</span><br><span class="line">    <span class="keyword">var</span> s = <span class="keyword">this</span>.get2(datetime.getSeconds())</span><br><span class="line">    <span class="keyword">return</span> y + <span class="string">'-'</span> + M + <span class="string">'-'</span> + d + <span class="string">' '</span> + h + <span class="string">':'</span> + m + <span class="string">':'</span> + s</span><br><span class="line">  &#125;,</span><br><span class="line">  datetiemToDateString: <span class="function"><span class="keyword">function</span> <span class="title">datetiemToDateString</span>(<span class="params">datetime</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> y = datetime.getFullYear()</span><br><span class="line">    <span class="keyword">var</span> M = <span class="keyword">this</span>.get2(datetime.getMonth() + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">var</span> d = <span class="keyword">this</span>.get2(datetime.getDate())</span><br><span class="line">    <span class="keyword">return</span> y + <span class="string">'-'</span> + M + <span class="string">'-'</span> + d</span><br><span class="line">  &#125;,</span><br><span class="line">  arrayIsNotNull: <span class="function"><span class="keyword">function</span> <span class="title">arrayIsNotNull</span>(<span class="params">array</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> (array !== <span class="literal">undefined</span> &amp;&amp; array !== <span class="literal">null</span> &amp;&amp; array.length !== <span class="number">0</span>) &#123;</span><br><span class="line">      result = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (array === <span class="literal">undefined</span> || array === <span class="literal">null</span> || array.length === <span class="number">0</span>) &#123;</span><br><span class="line">      result = <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">  &#125;,</span><br><span class="line">  objIsNotNull: <span class="function"><span class="keyword">function</span> <span class="title">objIsNotNull</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> (obj !== <span class="literal">undefined</span> &amp;&amp; obj !== <span class="literal">null</span> &amp;&amp; <span class="built_in">JSON</span>.stringify(obj) !== <span class="string">'&#123;&#125;'</span>) &#123;</span><br><span class="line">      result = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (obj === <span class="literal">undefined</span> || obj === <span class="literal">null</span> || <span class="built_in">JSON</span>.stringify(obj) === <span class="string">'&#123;&#125;'</span>) &#123;</span><br><span class="line">      result = <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">  &#125;,</span><br><span class="line">  strIsNotNull: <span class="function"><span class="keyword">function</span> <span class="title">strIsNotNull</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> (str !== <span class="literal">undefined</span> &amp;&amp; str !== <span class="literal">null</span> &amp;&amp; str !== <span class="string">''</span>) &#123;</span><br><span class="line">      result = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (str === <span class="literal">undefined</span> || str === <span class="literal">null</span> || str === <span class="string">''</span>) &#123;</span><br><span class="line">      result = <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="附：common-js"><a href="#附：common-js" class="headerlink" title="附：common.js"></a>附：common.js</h2><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> $timeUtils from <span class="string">'./timeUtils.js'</span></span><br><span class="line"><span class="keyword">export</span> <span class="title">default</span> &#123;</span><br><span class="line">  <span class="comment">// 获取近x日的日期</span></span><br><span class="line">  getDateStr(addDay) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="built_in">date</span> = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    <span class="built_in">date</span>.setDate(<span class="built_in">date</span>.getDate() + addDay)</span><br><span class="line">    <span class="keyword">return</span> $timeUtils.getDate(<span class="built_in">date</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 获取近x周的开始日期</span></span><br><span class="line">  getWeekDateStr(addDay) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="built_in">date</span> = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    <span class="built_in">date</span>.setDate(<span class="built_in">date</span>.getDate() + addDay)</span><br><span class="line">    <span class="keyword">const</span> nowDay = <span class="built_in">date</span>.getDay()</span><br><span class="line">    <span class="keyword">if</span> (nowDay !== <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> minDay = -(nowDay - <span class="number">1</span>)</span><br><span class="line">      <span class="built_in">date</span>.setDate(<span class="built_in">date</span>.getDate() + minDay)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $timeUtils.getDate(<span class="built_in">date</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 获取近x周的结束日期</span></span><br><span class="line">  getWeekEndDateStr(addDay) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="built_in">date</span> = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    <span class="built_in">date</span>.setDate(<span class="built_in">date</span>.getDate() + addDay)</span><br><span class="line">    <span class="keyword">const</span> nowDay = <span class="built_in">date</span>.getDay()</span><br><span class="line">    <span class="keyword">if</span> (nowDay !== <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> minDay = -(nowDay - <span class="number">7</span>)</span><br><span class="line">      <span class="built_in">date</span>.setDate(<span class="built_in">date</span>.getDate() + minDay)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $timeUtils.getDate(<span class="built_in">date</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 获取近x月的开始日期</span></span><br><span class="line">  getMonthDateStr(addDay) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="built_in">date</span> = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    <span class="built_in">date</span>.setDate(<span class="built_in">date</span>.getDate() + addDay)<span class="comment">// 获取AddDayCount天后的日期</span></span><br><span class="line">    <span class="keyword">const</span> nowDate = <span class="built_in">date</span>.getDate()</span><br><span class="line">    <span class="keyword">if</span> (nowDate !== <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> minDay = -(nowDate - <span class="number">1</span>)</span><br><span class="line">      <span class="built_in">date</span>.setDate(<span class="built_in">date</span>.getDate() + minDay)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $timeUtils.getDate(<span class="built_in">date</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 获取近x月的结束日期</span></span><br><span class="line">  getMonthEndDateStr(addDay) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="built_in">date</span> = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    <span class="built_in">date</span>.setDate(<span class="built_in">date</span>.getDate() + addDay)<span class="comment">// 获取AddDayCount天后的日期</span></span><br><span class="line">    <span class="keyword">const</span> thisMonthDay = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">date</span>.getFullYear(), <span class="built_in">date</span>.getMonth() + <span class="number">1</span>, <span class="number">0</span>).getDate()<span class="comment">// 这个月的天数</span></span><br><span class="line">    <span class="keyword">const</span> nowDate = <span class="built_in">date</span>.getDate()</span><br><span class="line">    <span class="keyword">if</span> (nowDate !== <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> minDay = -(nowDate - thisMonthDay)</span><br><span class="line">      <span class="built_in">date</span>.setDate(<span class="built_in">date</span>.getDate() + minDay)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $timeUtils.getDate(<span class="built_in">date</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 获取近x年的开始日期</span></span><br><span class="line">  getYearDateStr(addDay) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="built_in">date</span> = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    <span class="built_in">date</span>.setDate(<span class="built_in">date</span>.getDate() + addDay)</span><br><span class="line">    <span class="keyword">const</span> y = <span class="built_in">date</span>.getFullYear()</span><br><span class="line">    <span class="keyword">return</span> y + <span class="string">'-01'</span> + <span class="string">'-01'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> ElementUI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML &lt;meta&gt; 标签</title>
      <link href="/2019/08/20/meta/"/>
      <url>/2019/08/20/meta/</url>
      
        <content type="html"><![CDATA[<p><code>&lt;meta&gt;</code> 元素可提供有关页面的元信息（meta-information），比如针对搜索引擎和更新频度的描述和关键词。<meta> 标签位于文档的头部，不包含任何内容。<code>&lt;meta&gt;</code> 标签的属性定义了与文档相关联的名称/值对。<code>&lt;meta&gt;</code>标签提供关于HTML文档的元数据。元数据不会显示在页面上，但是对于机器是可读的。它可用于浏览器（如何显示内容或重新加载页面），搜索引擎（关键词），或其他 web 服务。</p><a id="more"></a><h3 id="一、概要"><a href="#一、概要" class="headerlink" title="一、概要"></a>一、概要</h3><h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><table><thead><tr><th>属性</th><th>值</th><th>必须</th><th>描述</th></tr></thead><tbody><tr><td>content</td><td>some_text</td><td>是</td><td>定义与 http-equiv 或 name 属性相关的元信息</td></tr><tr><td>http-equiv</td><td>content-type / expires / refresh / set-cookie</td><td>否</td><td>把 content 属性关联到 HTTP 头部。</td></tr><tr><td>name</td><td>author / description / keywords / generator / revised / others</td><td>否</td><td>把 content 属性关联到一个名称。</td></tr><tr><td>scheme</td><td>some_text</td><td>否</td><td>定义用于翻译 content 属性值的格式。</td></tr></tbody></table><h3 id="二、SEO优化"><a href="#二、SEO优化" class="headerlink" title="二、SEO优化"></a>二、SEO优化</h3><h4 id="1-页面关键词"><a href="#1-页面关键词" class="headerlink" title="1.页面关键词"></a>1.页面关键词</h4><p>每个网页应具有描述该网页内容的一组唯一的关键字。<br>使用人们可能会搜索，并准确描述网页上所提供信息的描述性和代表性关键字及短语。标记内容太短，则搜索引擎可能不会认为这些内容相关。另外标记不应超过 874 个字符。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta <span class="attribute">name</span>=<span class="string">"keywords"</span> <span class="attribute">content</span>=<span class="string">"your tags"</span> /&gt;</span><br></pre></td></tr></table></figure><h4 id="2-页面描述"><a href="#2-页面描述" class="headerlink" title="2.页面描述"></a>2.页面描述</h4><p>每个网页都应有一个不超过 150 个字符且能准确反映网页内容的描述标签。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta <span class="attribute">name</span>=<span class="string">"description"</span> <span class="attribute">content</span>=<span class="string">"150 words"</span> /&gt;</span><br></pre></td></tr></table></figure><h4 id="3-搜索引擎索引方式"><a href="#3-搜索引擎索引方式" class="headerlink" title="3.搜索引擎索引方式"></a>3.搜索引擎索引方式</h4><p>robotterms是一组使用逗号(,)分割的值，通常有如下几种取值：none，noindex，nofollow，all，index和follow。确保正确使用nofollow和noindex属性值。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta <span class="attribute">name</span>=<span class="string">"robots"</span> <span class="attribute">content</span>=<span class="string">"index,follow"</span> /&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>值</th><th>定义</th></tr></thead><tbody><tr><td>all</td><td>文件将被检索，且页面上的链接可以被查询</td></tr><tr><td>none</td><td>文件将不被检索，且页面上的链接不可以被查询</td></tr><tr><td>index</td><td>文件将被检索</td></tr><tr><td>follow</td><td>页面上的链接可以被查询</td></tr><tr><td>noindex</td><td>文件将不被检索</td></tr><tr><td>nofollow</td><td>页面上的链接不可以被查询</td></tr></tbody></table><h4 id="4-页面重定向和刷新"><a href="#4-页面重定向和刷新" class="headerlink" title="4.页面重定向和刷新"></a>4.页面重定向和刷新</h4><p>content内的数字代表时间（秒），既多少时间后刷新。如果加url,则会重定向到指定网页（搜索引擎能够自动检测，也很容易被引擎视作误导而受到惩罚）</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta <span class="attribute">http-equiv</span>=<span class="string">"refresh"</span> <span class="attribute">content</span>=<span class="string">"0;url="</span> /&gt;</span><br></pre></td></tr></table></figure><h4 id="5-其他"><a href="#5-其他" class="headerlink" title="5.其他"></a>5.其他</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"author"</span> <span class="attr">content</span>=<span class="string">"author name"</span> /&gt;</span> <span class="comment">&lt;!-- 定义网页作者 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"google"</span> <span class="attr">content</span>=<span class="string">"index,follow"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"googlebot"</span> <span class="attr">content</span>=<span class="string">"index,follow"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"verify"</span> <span class="attr">content</span>=<span class="string">"index,follow"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h3 id="三、移动设备"><a href="#三、移动设备" class="headerlink" title="三、移动设备"></a>三、移动设备</h3><h4 id="1-viewport"><a href="#1-viewport" class="headerlink" title="1.viewport"></a>1.viewport</h4><p>能优化移动浏览器的显示。如果不是响应式网站，不要使用initial-scale或者禁用缩放。</p><p>大部分4.7-5寸设备的viewport宽设为360px；5.5寸设备设为400px；iphone6设为375px；ipone6 plus设为414px。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- `width=device-width` 会导致 iPhone 5 添加到主屏后以 WebApp 全屏模式打开页面时出现黑边  --&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>值</th><th>定义</th></tr></thead><tbody><tr><td>width</td><td>宽度（数值 / device-width）（范围从200 到10,000，默认为980 像素）</td></tr><tr><td>height</td><td>高度（数值 / device-height）（范围从223 到10,000）</td></tr><tr><td>initial-scale</td><td>初始的缩放比例 （范围从&gt;0 到10）</td></tr><tr><td>minimum-scale</td><td>允许用户缩放到的最小比例</td></tr><tr><td>maximum-scale</td><td>允许用户缩放到的最大比例</td></tr><tr><td>user-scalable</td><td>用户是否可以手动缩放 (no,yes)</td></tr><tr><td>minimal-ui</td><td>可以在页面加载时最小化上下状态栏。（已弃用）</td></tr></tbody></table><blockquote><p>注意，很多人使用initial-scale=1到非响应式网站上，这会让网站以100%宽度渲染，用户需要手动移动页面或者缩放。如果和initial-scale=1同时使用user-scalable=no或maximum-scale=1，则用户将不能放大/缩小网页来看到全部的内容。</p></blockquote><h4 id="2-WebApp全屏模式"><a href="#2-WebApp全屏模式" class="headerlink" title="2.WebApp全屏模式"></a>2.WebApp全屏模式</h4><p>伪装app，离线应用。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-capable"</span> <span class="attr">content</span>=<span class="string">"yes"</span> /&gt;</span> <span class="comment">&lt;!-- 启用 WebApp 全屏模式 --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-隐藏状态栏-设置状态栏颜色"><a href="#3-隐藏状态栏-设置状态栏颜色" class="headerlink" title="3.隐藏状态栏/设置状态栏颜色"></a>3.隐藏状态栏/设置状态栏颜色</h4><p>只有在开启WebApp全屏模式时才生效。content的值为default（白色） | black(黑色) | black-translucent （灰色半透明）。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta <span class="attribute">name</span>=<span class="string">"apple-mobile-web-app-status-bar-style"</span> <span class="attribute">content</span>=<span class="string">"black-translucent"</span> /&gt;</span><br></pre></td></tr></table></figure><p>说明：</p><ul><li>在web app应用下状态条（屏幕顶部条）的颜色；</li><li>默认值为default（白色），可以定为black（黑色）和black-translucent（灰色半透明）。</li><li>若值为“black-translucent”将会占据页面px位置，浮在页面上方（会覆盖页面20px高度–iphone4和itouch4的Retina屏幕为40px）。</li></ul><h4 id="4-添加到主屏后的标题"><a href="#4-添加到主屏后的标题" class="headerlink" title="4.添加到主屏后的标题"></a>4.添加到主屏后的标题</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta <span class="attribute">name</span>=<span class="string">"apple-mobile-web-app-title"</span> <span class="attribute">content</span>=<span class="string">"标题"</span>&gt;</span><br></pre></td></tr></table></figure><h4 id="5-忽略数字自动识别为电话号码"><a href="#5-忽略数字自动识别为电话号码" class="headerlink" title="5.忽略数字自动识别为电话号码"></a>5.忽略数字自动识别为电话号码</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta <span class="attribute">content</span>=<span class="string">"telephone=no"</span> <span class="attribute">name</span>=<span class="string">"format-detection"</span> /&gt;</span><br></pre></td></tr></table></figure><h4 id="6-忽略识别邮箱"><a href="#6-忽略识别邮箱" class="headerlink" title="6.忽略识别邮箱"></a>6.忽略识别邮箱</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta <span class="attribute">content</span>=<span class="string">"email=no"</span> <span class="attribute">name</span>=<span class="string">"format-detection"</span> /&gt;</span><br></pre></td></tr></table></figure><h4 id="7-添加智能-App-广告条-Smart-App-Banner"><a href="#7-添加智能-App-广告条-Smart-App-Banner" class="headerlink" title="7.添加智能 App 广告条 Smart App Banner"></a>7.添加智能 App 广告条 Smart App Banner</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta <span class="attribute">name</span>=<span class="string">"apple-itunes-app"</span> <span class="attribute">content</span>=<span class="string">"app-id=myAppStoreID, affiliate-data=myAffiliateData, app-argument=myURL"</span>&gt;</span><br></pre></td></tr></table></figure><h4 id="8-其他"><a href="#8-其他" class="headerlink" title="8.其他"></a>8.其他</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"HandheldFriendly"</span> <span class="attr">content</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 微软的老式浏览器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"MobileOptimized"</span> <span class="attr">content</span>=<span class="string">"320"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- uc强制竖屏 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"screen-orientation"</span> <span class="attr">content</span>=<span class="string">"portrait"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- QQ强制竖屏 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"x5-orientation"</span> <span class="attr">content</span>=<span class="string">"portrait"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- UC强制全屏 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"full-screen"</span> <span class="attr">content</span>=<span class="string">"yes"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- QQ强制全屏 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"x5-fullscreen"</span> <span class="attr">content</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- UC应用模式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"browsermode"</span> <span class="attr">content</span>=<span class="string">"application"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- QQ应用模式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"x5-page-mode"</span> <span class="attr">content</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- windows phone 点击无高光 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"msapplication-tap-highlight"</span> <span class="attr">content</span>=<span class="string">"no"</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="四、网页相关"><a href="#四、网页相关" class="headerlink" title="四、网页相关"></a>四、网页相关</h3><h4 id="1-申明编码"><a href="#1-申明编码" class="headerlink" title="1.申明编码"></a>1.申明编码</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">'utf-8'</span> /&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-优先使用-IE-最新版本和-Chrome"><a href="#2-优先使用-IE-最新版本和-Chrome" class="headerlink" title="2.优先使用 IE 最新版本和 Chrome"></a>2.优先使用 IE 最新版本和 Chrome</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge,chrome=1"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 关于X-UA-Compatible --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=6"</span> &gt;</span><span class="comment">&lt;!-- 使用IE6 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=7"</span> &gt;</span><span class="comment">&lt;!-- 使用IE7 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=8"</span> &gt;</span><span class="comment">&lt;!-- 使用IE8 --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-浏览器内核控制"><a href="#3-浏览器内核控制" class="headerlink" title="3.浏览器内核控制"></a>3.浏览器内核控制</h4><p>内浏览器很多都是双内核（webkit和Trident），webkit内核高速浏览，IE内核兼容网页和旧版网站。而添加meta标签的网站可以控制浏览器选择何种内核渲染。参考文档</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta <span class="attribute">name</span>=<span class="string">"renderer"</span> <span class="attribute">content</span>=<span class="string">"webkit|ie-comp|ie-stand"</span>&gt;</span><br></pre></td></tr></table></figure><p>国内双核浏览器默认内核模式如下：</p><ol><li>搜狗高速浏览器、QQ浏览器：IE内核（兼容模式）</li><li>360极速浏览器、遨游浏览器：Webkit内核（极速模式</li></ol><h4 id="4-禁止浏览器从本地计算机的缓存中访问页面内容"><a href="#4-禁止浏览器从本地计算机的缓存中访问页面内容" class="headerlink" title="4.禁止浏览器从本地计算机的缓存中访问页面内容"></a>4.禁止浏览器从本地计算机的缓存中访问页面内容</h4><p>这样设定，访问者将无法脱机浏览。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta <span class="attribute">http-equiv</span>=<span class="string">"Pragma"</span> <span class="attribute">content</span>=<span class="string">"no-cache"</span>&gt;</span><br></pre></td></tr></table></figure><h4 id="5-Windows-8"><a href="#5-Windows-8" class="headerlink" title="5. Windows 8"></a>5. Windows 8</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"msapplication-TileColor"</span> <span class="attr">content</span>=<span class="string">"#000"</span>/&gt;</span> <span class="comment">&lt;!-- Windows 8 磁贴颜色 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"msapplication-TileImage"</span> <span class="attr">content</span>=<span class="string">"icon.png"</span>/&gt;</span> <span class="comment">&lt;!-- Windows 8 磁贴图标 --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="6-站点适配"><a href="#6-站点适配" class="headerlink" title="6. 站点适配"></a>6. 站点适配</h4><p>主要用于PC-手机页的对应关系。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"mobile-agent"</span><span class="attr">content</span>=<span class="string">"format=[wml|xhtml|html5]; url=url"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">  [wml|xhtml|html5]根据手机页的协议语言，选择其中一种；</span></span><br><span class="line"><span class="comment">  url="url" 后者代表当前PC页所对应的手机页URL，两者必须是一一对应关系。</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><h4 id="7-转码申明"><a href="#7-转码申明" class="headerlink" title="7.转码申明"></a>7.转码申明</h4><p>用百度打开网页可能会对其进行转码（比如贴广告），避免转码可添加如下meta。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta <span class="attribute">http-equiv</span>=<span class="string">"Cache-Control"</span> <span class="attribute">content</span>=<span class="string">"no-siteapp"</span> /&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>FastClick的使用</title>
      <link href="/2019/08/20/fastClick/"/>
      <url>/2019/08/20/fastClick/</url>
      
        <content type="html"><![CDATA[<p>移动设备上的浏览器默认会在用户点击屏幕大约延迟300毫秒后才会触发点击事件，这是为了检查用户是否在做双击。为了能够立即响应用户的点击事件，才有了FastClick。</p><a id="more"></a><blockquote><p>mobile browsers will wait approximately 300ms from the time that you tap the button to fire the click event. The reason for this is that the browser is waiting to see if you are actually performing a double tap.</p></blockquote><h3 id="FastClick的使用"><a href="#FastClick的使用" class="headerlink" title="FastClick的使用"></a>FastClick的使用</h3><h4 id="一、安装"><a href="#一、安装" class="headerlink" title="一、安装"></a>一、安装</h4><p>安装fastclick可以使用npm，Component和Bower。另外也提供了Ruby版的gem fastclick-rails以及.NET提供了NuGet package。例：</p><p>1.在页面引入fastclick js文件：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">'application/javascript'</span> <span class="attr">src</span>=<span class="string">'/path/to/fastclick.js'</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2.使用npm安装</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> fastclick</span><br></pre></td></tr></table></figure><h4 id="二、初始化FastClick实例"><a href="#二、初始化FastClick实例" class="headerlink" title="二、初始化FastClick实例"></a>二、初始化FastClick实例</h4><p>初始化FastClick实例建议在页面的DOM文档加载完成后。</p><ol><li>纯Javascript版</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="string">'addEventListener'</span> <span class="keyword">in</span> <span class="built_in">document</span>) &#123;</span><br><span class="line">    <span class="built_in">document</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        FastClick.attach(<span class="built_in">document</span>.body);</span><br><span class="line">    &#125;, <span class="literal">false</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>jQuery版</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    FastClick.attach(<span class="built_in">document</span>.body);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ol start="3"><li>类似Common JS的模块系统方式</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> attachFastClick = <span class="built_in">require</span>(<span class="string">'fastclick'</span>);</span><br><span class="line">attachFastClick(<span class="built_in">document</span>.body);</span><br></pre></td></tr></table></figure><p>调用require(‘fastclick’)会返回FastClick.attach函数。</p><h4 id="3-使用needsclick过滤特定的元素"><a href="#3-使用needsclick过滤特定的元素" class="headerlink" title="3.使用needsclick过滤特定的元素"></a>3.使用needsclick过滤特定的元素</h4><p>如果页面上有一些特定的元素不需要使用fastclick来立刻触发点击事件，可以在元素的class上添加needsclick:</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a <span class="keyword">class</span>=<span class="string">"needsclick"</span>&gt;Ignored <span class="keyword">by</span> FastClick&lt;/a&gt;</span><br></pre></td></tr></table></figure><h3 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h3><p>该库已作为FT Web App的一部分进行部署，并在以下移动浏览器上进行了测试：</p><ul><li>iOS 3及更高版本的Mobile Safari</li><li>适用于iOS 5及更高版本的Chrome</li><li>Android上的Chrome（ICS）</li><li>Opera Mobile 11.5及更高版本</li><li>自Android 2以来的Android浏览器</li><li>PlayBook OS 1及以上版本</li></ul><h3 id="不需要使用FastClick的情况"><a href="#不需要使用FastClick的情况" class="headerlink" title="不需要使用FastClick的情况"></a>不需要使用FastClick的情况</h3><p>以下这几种情况是不需要使用FastClick：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta <span class="attribute">name</span>=<span class="string">"viewport"</span> <span class="attribute">content</span>=<span class="string">"width=device-width, initial-scale=1"</span>&gt;</span><br></pre></td></tr></table></figure><ul><li>FastClick不会对PC浏览器添加监听事件</li><li>Android版Chrome 32+浏览器，如果设置viewport meta的值为width=device-width，这种情况下浏览器会马上出发点击事件，不会延迟300毫秒。</li><li>所有版本的Android Chrome浏览器，如果设置viewport meta的值有user-scalable=no，浏览器也是会马上出发点击事件。但请注意，user-scalable=no还会禁用缩放缩放，这可能是一种可访问性问题。</li><li>IE11+浏览器设置了css的属性touch-action: manipulation，它会在某些标签（a，button等）禁止双击事件，IE10的为-ms-touch-action: manipulation</li></ul>]]></content>
      
      
      <categories>
          
          <category> 插件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 插件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HEXO maupassant 主题使用方法</title>
      <link href="/2019/07/31/maupassant/"/>
      <url>/2019/07/31/maupassant/</url>
      
        <content type="html"><![CDATA[<h3 id="一-安装"><a href="#一-安装" class="headerlink" title="一.安装"></a>一.安装</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>git clone <span class="symbol">https:</span>/<span class="regexp">/github.com/tufu</span>9441/maupassant-hexo.git themes/maupassant</span><br><span class="line"><span class="variable">$ </span>npm install hexo-renderer-pug --save</span><br><span class="line"><span class="variable">$ </span>npm install hexo-renderer-sass --save</span><br></pre></td></tr></table></figure><p>编辑Hexo目录下的 _config.yml，将theme的值改为maupassant。</p><h3 id="二-配置"><a href="#二-配置" class="headerlink" title="二.配置"></a>二.配置</h3><h4 id="1-搜索功能"><a href="#1-搜索功能" class="headerlink" title="1.搜索功能"></a>1.搜索功能</h4><p>建议只将其中一种搜索的值配置为true 否则会出现多个搜索框</p><ul><li>google_search  // 使用Google搜索引擎 true/false</li><li>baidu_search  // 使用百度搜索 true/false</li><li>self_search  // 基于jQuery的本地搜索引擎 true/false，需要安装hexo-generator-search插件使用。</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm <span class="keyword">install</span> hexo-generator-<span class="keyword">search</span> <span class="comment">--save  // 安装hexo-generator-search插件命令</span></span><br></pre></td></tr></table></figure><h4 id="2-捐赠功能"><a href="#2-捐赠功能" class="headerlink" title="2.捐赠功能"></a>2.捐赠功能</h4><ul><li>donate  // 是否启用捐赠按钮 true/false</li></ul><h4 id="3-导航菜单"><a href="#3-导航菜单" class="headerlink" title="3.导航菜单"></a>3.导航菜单</h4><ul><li>menu  // 自定义页面及菜单，依照已有格式填写。填写后请在source目录下建立相应名称的文件夹,并包含index.md文件，以正确显示页面。导航菜单中集成了FontAwesome图标字体，可以在这里选择新的图标，并按照相关说明使用。</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">menu</span>:</span><br><span class="line">  - <span class="attribute">page</span>: about</span><br><span class="line">    <span class="attribute">directory</span>: about/</span><br><span class="line">    <span class="attribute">icon</span>: fa-user</span><br></pre></td></tr></table></figure><p>添加页面：在source目录下建立相应名称的文件夹，然后在文件夹中建立index.md文件，并在index.md的front-matter中设置layout为layout: page。若需要单栏页面，就将layout设置为 layout: single-column。</p><h4 id="4-友情链接"><a href="#4-友情链接" class="headerlink" title="4.友情链接"></a>4.友情链接</h4><ul><li>links  // 友情链接，请依照格式填写。</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">links</span>:</span><br><span class="line">  - <span class="attribute">title</span>: 百度baidu</span><br><span class="line">    <span class="attribute">url</span>: <span class="attribute">http</span>:<span class="comment">//www.baidu.com/</span></span><br></pre></td></tr></table></figure><h4 id="5-历史时间线"><a href="#5-历史时间线" class="headerlink" title="5.历史时间线"></a>5.历史时间线</h4><ul><li>timeline  // 网站历史时间线，在页面front-matter中设置layout: timeline可显示。</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">timeline</span>:</span><br><span class="line">  - <span class="attribute">num</span>: <span class="number">1</span></span><br><span class="line">    <span class="attribute">word</span>: <span class="number">2014</span>/<span class="number">06</span>/<span class="number">12</span>-Start</span><br><span class="line">  - <span class="attribute">num</span>: <span class="number">2</span></span><br><span class="line">    <span class="attribute">word</span>: <span class="number">2014</span>/<span class="number">11</span>/<span class="number">29</span>-XXX</span><br><span class="line">  - <span class="attribute">num</span>: <span class="number">3</span></span><br><span class="line">    <span class="attribute">word</span>: <span class="number">2015</span>/<span class="number">02</span>/<span class="number">18</span>-DDD</span><br><span class="line">  - <span class="attribute">num</span>: <span class="number">4</span></span><br><span class="line">    <span class="attribute">word</span>: More</span><br></pre></td></tr></table></figure><h4 id="6-canvas动态背景"><a href="#6-canvas动态背景" class="headerlink" title="6.canvas动态背景"></a>6.canvas动态背景</h4><ul><li>canvas_nest  // 是否使用canvas动态背景</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">canvas_nest:</span><br><span class="line">  enable: <span class="literal">true</span> ## <span class="keyword">If</span> you want <span class="keyword">to</span> use dynamic background please <span class="builtin-name">set</span> the value <span class="keyword">to</span> <span class="literal">true</span>, you can also fill the following parameters <span class="keyword">to</span> customize the dynamic effect, <span class="keyword">or</span> just leave them blank <span class="keyword">to</span> keep the<span class="built_in"> default </span>effect.</span><br><span class="line">  color: <span class="string">"100,99,98"</span> ## RGB value of the color, e.g. <span class="string">"100,99,98"</span></span><br><span class="line">  opacity: <span class="string">"0.7"</span> ## Transparency of lines, e.g. <span class="string">"0.7"</span></span><br><span class="line">  zIndex: <span class="string">"-1"</span> ## The z-index property of the background, e.g. <span class="string">"-1"</span></span><br><span class="line">  count: <span class="string">"150"</span> ## Quantity of lines, e.g. <span class="string">"150"</span></span><br></pre></td></tr></table></figure><p>Github地址：<a href="https://github.com/hustcc/canvas-nest.js" target="_blank" rel="noopener">https://github.com/hustcc/canvas-nest.js</a></p><p>使用方式：</p><h5 id="1-npm或cnpm："><a href="#1-npm或cnpm：" class="headerlink" title="1.npm或cnpm："></a>1.npm或cnpm：</h5><p><code>npm install --save canvas-nest.js</code></p><h5 id="2-yarn"><a href="#2-yarn" class="headerlink" title="2.yarn:"></a>2.yarn:</h5><p><code>yarn add canvas-nest.js</code></p><h5 id="3-直接下载文件到本地"><a href="#3-直接下载文件到本地" class="headerlink" title="3.直接下载文件到本地"></a>3.直接下载文件到本地</h5><h5 id="4-cdn："><a href="#4-cdn：" class="headerlink" title="4.cdn："></a>4.cdn：</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/canvas-nest.js/2.0.4/canvas-nest.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="注：1-3三种方式都需将js文件放在：-themes-source-js目录下，并在需要使用的文章内加入-lt-script-src-quot-js-canvas-nest-js-quot-gt-lt-script-gt-，最好放在文章末尾"><a href="#注：1-3三种方式都需将js文件放在：-themes-source-js目录下，并在需要使用的文章内加入-lt-script-src-quot-js-canvas-nest-js-quot-gt-lt-script-gt-，最好放在文章末尾" class="headerlink" title="注：1-3三种方式都需将js文件放在：/themes/source/js目录下，并在需要使用的文章内加入&lt;script src=&quot;/js/canvas-nest.js&quot;&gt;&lt;/script&gt;，最好放在文章末尾"></a>注：1-3三种方式都需将js文件放在：/themes/source/js目录下，并在需要使用的文章内加入<code>&lt;script src=&quot;/js/canvas-nest.js&quot;&gt;&lt;/script&gt;</code>，最好放在文章末尾</h6><script src="/js/canvas-nest.js"></script>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HEXO+github 搭建博客</title>
      <link href="/2019/07/09/hexo/"/>
      <url>/2019/07/09/hexo/</url>
      
        <content type="html"><![CDATA[<p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p><a id="more"></a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line">hexo init blog</span><br><span class="line"><span class="built_in">cd</span> blog</span><br><span class="line">npm install</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><h3 id="一、安装"><a href="#一、安装" class="headerlink" title="一、安装"></a>一、安装</h3><h4 id="1-安装前提"><a href="#1-安装前提" class="headerlink" title="1.安装前提"></a>1.安装前提</h4><ul><li>Node.js</li><li>Git</li></ul><h4 id="2-安装Hexo"><a href="#2-安装Hexo" class="headerlink" title="2.安装Hexo"></a>2.安装Hexo</h4><p><code>$ npm install -g hexo-cli</code></p><h3 id="二、建站"><a href="#二、建站" class="headerlink" title="二、建站"></a>二、建站</h3><p>安装 Hexo 完成后，请执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init &lt;folder&gt;</span><br><span class="line">$ <span class="built_in">cd</span> &lt;folder&gt;</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure><h3 id="三、配置-config-yml"><a href="#三、配置-config-yml" class="headerlink" title="三、配置 _config.yml"></a>三、配置 _config.yml</h3><h4 id="1-网站"><a href="#1-网站" class="headerlink" title="1.网站"></a>1.网站</h4><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>title</td><td>网站标题</td></tr><tr><td>subtitle</td><td>网站副标题</td></tr><tr><td>description</td><td>网站描述</td></tr><tr><td>author</td><td>您的名字</td></tr><tr><td>language</td><td>网站使用的语言</td></tr><tr><td>timezone</td><td>网站时区。Hexo 默认使用您电脑的时区。时区列表。比如说：America/New_York, Japan, 和 UTC 。</td></tr><tr><td></td><td></td></tr></tbody></table><blockquote><p>其中，description主要用于SEO，告诉搜索引擎一个关于您站点的简单描述，通常建议在其中包含您网站的关键词。author参数用于主题显示文章的作者。</p></blockquote><h4 id="2-网址"><a href="#2-网址" class="headerlink" title="2.网址"></a>2.网址</h4><table><thead><tr><th>参数</th><th>描述</th><th>默认值</th></tr></thead><tbody><tr><td>url</td><td>网址</td><td></td></tr><tr><td>root</td><td>网站根目录</td><td></td></tr><tr><td>permalink</td><td>文章的永久链接格式</td><td>:year/:month/:day/:title/</td></tr><tr><td>permalink_defaults</td><td>永久链接中各部分的默认值</td><td></td></tr></tbody></table><blockquote><p>如果您的网站存放在子目录中，例如 <a href="http://yoursite.com/blog，则请将您的" target="_blank" rel="noopener">http://yoursite.com/blog，则请将您的</a> url 设为 <a href="http://yoursite.com/blog" target="_blank" rel="noopener">http://yoursite.com/blog</a> 并把 root 设为 /blog/。</p></blockquote><h4 id="3-目录"><a href="#3-目录" class="headerlink" title="3.目录"></a>3.目录</h4><table><thead><tr><th>参数</th><th>描述</th><th>默认值</th></tr></thead><tbody><tr><td>source_dir</td><td>资源文件夹，这个文件夹用来存放内容。</td><td>source</td></tr><tr><td>public_dir</td><td>公共文件夹，这个文件夹用于存放生成的站点文件。</td><td>public</td></tr><tr><td>tag_dir</td><td>标签文件夹</td><td>tags</td></tr><tr><td>archive_dir</td><td>归档文件夹</td><td>archives</td></tr><tr><td>category_dir</td><td>分类文件夹</td><td>categories</td></tr><tr><td>code_dir</td><td>Include code 文件夹</td><td>downloads/code</td></tr><tr><td>i18n_dir</td><td>国际化（i18n）文件夹</td><td>:lang</td></tr><tr><td>skip_render</td><td>跳过指定文件的渲染，您可使用 glob 表达式来匹配路径。</td><td></td></tr></tbody></table><h3 id="四、命令"><a href="#四、命令" class="headerlink" title="四、命令"></a>四、命令</h3><h4 id="1-init-新建一个网站"><a href="#1-init-新建一个网站" class="headerlink" title="1.init 新建一个网站"></a>1.init 新建一个网站</h4><p>如果没有设置 folder ，Hexo 默认在目前的文件夹建立网站。</p><p><code>$ hexo init [folder]</code></p><h4 id="2-new-新建一篇文章"><a href="#2-new-新建一篇文章" class="headerlink" title="2.new 新建一篇文章"></a>2.new 新建一篇文章</h4><p>如果没有设置 layout 的话，默认使用 _config.yml 中的 default_layout 参数代替。</p><p><code>$ hexo new [layout] &lt;title&gt;</code></p><p>如果标题包含空格的话，请使用引号括起来。</p><p><code>$ hexo new &quot;post title with whitespace&quot;</code></p><h4 id="3-generate"><a href="#3-generate" class="headerlink" title="3.generate"></a>3.generate</h4><p>生成静态文件 <code>$ hexo generate</code></p><p>可简写为： <code>$ hexo g</code></p><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td>-d, –deploy</td><td>文件生成后立即部署网站</td></tr><tr><td>-w, –watch</td><td>监视文件变动</td></tr></tbody></table><h4 id="4-publish-发表草稿"><a href="#4-publish-发表草稿" class="headerlink" title="4.publish 发表草稿"></a>4.publish 发表草稿</h4><p><code>$ hexo publish [layout] &lt;filename&gt;</code></p><h4 id="5-server-启动服务器"><a href="#5-server-启动服务器" class="headerlink" title="5.server 启动服务器"></a>5.server 启动服务器</h4><p>默认情况下，访问网址为： <a href="http://localhost:4000/。" target="_blank" rel="noopener">http://localhost:4000/。</a></p><p><code>$ hexo server</code></p><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td>-p, –port</td><td>重设端口</td></tr><tr><td>-s, –static</td><td>只使用静态文件</td></tr><tr><td>-l, –log</td><td>启动日记记录，使用覆盖记录格式</td></tr></tbody></table><h4 id="6-deploy-部署网站"><a href="#6-deploy-部署网站" class="headerlink" title="6.deploy 部署网站"></a>6.deploy 部署网站</h4><p><code>$ hexo deploy</code></p><p>可简写为：<code>$ hexo d</code></p><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td>-g, –generate</td><td>部署之前预先生成静态文件</td></tr></tbody></table><h4 id="7-render-渲染文件"><a href="#7-render-渲染文件" class="headerlink" title="7.render 渲染文件"></a>7.render 渲染文件</h4><p><code>$ hexo render &lt;file1&gt; [file2] ...</code></p><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>-o, –output</td><td>设置输出路径</td></tr></tbody></table><h4 id="8-migrate-从其他博客系统迁移内容"><a href="#8-migrate-从其他博客系统迁移内容" class="headerlink" title="8.migrate 从其他博客系统迁移内容"></a>8.migrate 从其他博客系统迁移内容</h4><p><code>$ hexo migrate &lt;type&gt;</code></p><h4 id="9-clean-清除缓存文件-db-json-和已生成的静态文件-public"><a href="#9-clean-清除缓存文件-db-json-和已生成的静态文件-public" class="headerlink" title="9.clean 清除缓存文件 (db.json) 和已生成的静态文件 (public)"></a>9.clean 清除缓存文件 (db.json) 和已生成的静态文件 (public)</h4><p><code>$ hexo clean</code></p><p>在某些情况（尤其是更换主题后），如果发现您对站点的更改无论如何也不生效，您可能需要运行该命令。</p><h4 id="10-list-列出网站资料"><a href="#10-list-列出网站资料" class="headerlink" title="10.list 列出网站资料"></a>10.list 列出网站资料</h4><p><code>$ hexo list &lt;type&gt;</code></p><h4 id="11-version-显示-Hexo-版本"><a href="#11-version-显示-Hexo-版本" class="headerlink" title="11.version 显示 Hexo 版本"></a>11.version 显示 Hexo 版本</h4><p><code>$ hexo version</code></p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2019/07/08/hello-world/"/>
      <url>/2019/07/08/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Test </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
